{"version":3,"sources":["components/UI/Section.module.css","components/Tasks/TaskItem.module.css","components/Tasks/Tasks.module.css","components/NewTask/TaskForm.module.css","components/UI/Section.js","components/Tasks/TaskItem.js","components/Tasks/Tasks.js","components/NewTask/TaskForm.js","hooks/use-http.js","components/NewTask/NewTask.js","App.js","index.js"],"names":["module","exports","Section","props","_jsx","className","classes","section","children","TaskItem","task","Tasks","taskList","items","length","map","text","id","content","error","onClick","onFetch","loading","container","TaskForm","taskInputRef","useRef","_jsxs","form","onSubmit","event","preventDefault","enteredValue","current","value","trim","onEnterTask","type","ref","useHttp","applyData","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","setError","sendRequest","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","requestConfig","response","data","wrap","_context","prev","next","fetch","url","method","headers","body","JSON","stringify","sent","ok","Error","json","t0","message","stop","_x","_x2","apply","arguments","NewTask","_useHttp","sendTaskRequest","createTask","taskText","taskData","createdTask","name","onAddTask","enterTaskHandler","bind","App","tasks","setTasks","fetchTasks","useEffect","tasksObj","loadedTasks","taskKey","push","React","Fragment","prevTasks","concat","ReactDOM","render","document","getElementById"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,QAAU,yB,kBCA5BD,EAAOC,QAAU,CAAC,KAAO,uB,kBCAzBD,EAAOC,QAAU,CAAC,UAAY,yB,kBCA9BD,EAAOC,QAAU,CAAC,KAAO,uB,uICKVC,EAJC,SAACC,GACf,OAAOC,cAAA,WAASC,UAAWC,IAAQC,QAAQC,SAAEL,EAAMK,UACrD,E,gBCEeC,EAJE,SAACN,GAChB,OAAOC,cAAA,MAAIC,UAAWC,IAAQI,KAAKF,SAAEL,EAAMK,UAC7C,E,gBC8BeG,EA9BD,SAACR,GACb,IAAIS,EAAWR,cAAA,MAAAI,SAAI,uCAEfL,EAAMU,MAAMC,OAAS,IACvBF,EACER,cAAA,MAAAI,SACGL,EAAMU,MAAME,KAAI,SAACL,GAAI,OACpBN,cAACK,EAAQ,CAAAD,SAAgBE,EAAKM,MAAfN,EAAKO,GAA0B,OAMtD,IAAIC,EAAUN,EAUd,OARIT,EAAMgB,QACRD,EAAUd,cAAA,UAAQgB,QAASjB,EAAMkB,QAAQb,SAAC,eAGxCL,EAAMmB,UACRJ,EAAU,oBAIVd,cAACF,EAAO,CAAAM,SACNJ,cAAA,OAAKC,UAAWC,IAAQiB,UAAUf,SAAEU,KAG1C,E,+BCPeM,EArBE,SAACrB,GAChB,IAAMsB,EAAeC,mBAYrB,OACEC,eAAA,QAAMtB,UAAWC,IAAQsB,KAAMC,SAXX,SAACC,GACrBA,EAAMC,iBAEN,IAAMC,EAAeP,EAAaQ,QAAQC,MAEtCF,EAAaG,OAAOrB,OAAS,GAC/BX,EAAMiC,YAAYJ,EAEtB,EAGyDxB,SAAA,CACrDJ,cAAA,SAAOiC,KAAK,OAAOC,IAAKb,IACxBrB,cAAA,UAAAI,SAASL,EAAMmB,QAAU,aAAe,eAG9C,ECWeiB,MAhCf,SAAiBC,GACf,IAAAC,EAAkCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA1CI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,EAA0BL,mBAAS,MAAKM,EAAAJ,YAAAG,EAAA,GAAjC5B,EAAK6B,EAAA,GAAEC,EAAQD,EAAA,GAEhBE,EAAcC,sBAAW,eAAAC,EAAAC,YAAAC,cAAAC,MAAC,SAAAC,EAAOC,EAAejB,GAAS,IAAAkB,EAAAC,EAAA,OAAAL,cAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAE9C,OADfjB,GAAa,GACbG,EAAS,MAAMY,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEUC,MAAMP,EAAcQ,IAAK,CAC9CC,OAAQT,EAAcS,OAAST,EAAcS,OAAS,MACtDC,QAASV,EAAcU,QAAUV,EAAcU,QAAU,CAAC,EAC1DC,KAAMX,EAAcW,KAAOC,KAAKC,UAAUb,EAAcW,MAAQ,OAC/D,KAAD,EAJY,IAARV,EAAQG,EAAAU,MAMAC,GAAG,CAADX,EAAAE,KAAA,cACR,IAAIU,MAAM,mBAAmB,KAAD,SAAAZ,EAAAE,KAAA,GAGjBL,EAASgB,OAAO,KAAD,GAA5Bf,EAAIE,EAAAU,KACV/B,EAAUmB,GAAME,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAc,GAAAd,EAAA,SAEhBZ,EAASY,EAAAc,GAAIC,SAAW,yBAAyB,QAEnD9B,GAAa,GAAO,yBAAAe,EAAAgB,OAAA,GAAArB,EAAA,mBACrB,gBAAAsB,EAAAC,GAAA,OAAA3B,EAAA4B,MAAA,KAAAC,UAAA,EApB8B,GAoB5B,IACH,MAAO,CACLpC,YACA1B,QACA+B,cAEJ,ECIegC,EAhCC,SAAC/E,GACf,IAAAgF,EAA2D5C,IAAnDM,EAASsC,EAATtC,UAAW1B,EAAKgE,EAALhE,MAAoBiE,EAAeD,EAA5BjC,YAEpBmC,EAAa,SAACC,EAAUC,GAC5B,IACMC,EAAc,CAAEvE,GADFsE,EAASE,KACUzE,KAAMsE,GAE7CnF,EAAMuF,UAAUF,EAClB,EAEMG,EAAgB,eAAAvC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAO8B,GAAQ,OAAAhC,cAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACtCqB,EACE,CACEnB,IAAK,6FACLC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAM,CAAEpD,KAAMsE,IAEhBD,EAAWO,KAAK,KAAMN,IACtB,wBAAAzB,EAAAgB,OAAA,GAAArB,EAAA,KACH,gBAZqBsB,GAAA,OAAA1B,EAAA4B,MAAA,KAAAC,UAAA,KActB,OACEtD,eAACzB,EAAO,CAAAM,SAAA,CACNJ,cAACoB,EAAQ,CAACY,YAAauD,EAAkBrE,QAASuB,IACjD1B,GAASf,cAAA,KAAAI,SAAIW,MAGpB,ECae0E,MAzCf,WACE,IAAApD,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/BqD,EAAKnD,EAAA,GAAEoD,EAAQpD,EAAA,GAEtBwC,EAAsD5C,IAA9CM,EAASsC,EAATtC,UAAW1B,EAAKgE,EAALhE,MAAoB6E,EAAUb,EAAvBjC,YAyB1B,OAvBA+C,qBAAU,WAWRD,EACE,CACE/B,IAAK,+FAZc,SAACiC,GACtB,IAAMC,EAAc,GAEpB,IAAK,IAAMC,KAAWF,EACpBC,EAAYE,KAAK,CAAEpF,GAAImF,EAASpF,KAAMkF,EAASE,GAASpF,OAG1D+E,EAASI,EACX,GAQF,GAAG,CAACH,IAOFrE,eAAC2E,IAAMC,SAAQ,CAAA/F,SAAA,CACbJ,cAAC8E,EAAO,CAACQ,UANU,SAAChF,GACtBqF,GAAS,SAACS,GAAS,OAAKA,EAAUC,OAAO/F,EAAK,GAChD,IAKIN,cAACO,EAAK,CACJE,MAAOiF,EACPxE,QAASuB,EACT1B,MAAOA,EACPE,QAAS2E,MAIjB,ECxCAU,IAASC,OAAOvG,cAACyF,EAAG,IAAKe,SAASC,eAAe,Q","file":"static/js/main.dd7d75c4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__vZF09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"task\":\"TaskItem_task__2wzRf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Tasks_container__1aezl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"TaskForm_form__1V6oF\"};","import classes from './Section.module.css';\n\nconst Section = (props) => {\n  return <section className={classes.section}>{props.children}</section>;\n};\n\nexport default Section;\n","import classes from './TaskItem.module.css';\n\nconst TaskItem = (props) => {\n  return <li className={classes.task}>{props.children}</li>\n};\n\nexport default TaskItem;","import Section from '../UI/Section';\nimport TaskItem from './TaskItem';\nimport classes from './Tasks.module.css';\n\nconst Tasks = (props) => {\n  let taskList = <h2>No tasks found. Start adding some!</h2>;\n\n  if (props.items.length > 0) {\n    taskList = (\n      <ul>\n        {props.items.map((task) => (\n          <TaskItem key={task.id}>{task.text}</TaskItem>\n        ))}\n      </ul>\n    );\n  }\n\n  let content = taskList;\n\n  if (props.error) {\n    content = <button onClick={props.onFetch}>Try again</button>;\n  }\n\n  if (props.loading) {\n    content = 'Loading tasks...';\n  }\n\n  return (\n    <Section>\n      <div className={classes.container}>{content}</div>\n    </Section>\n  );\n};\n\nexport default Tasks;\n","import { useRef } from 'react';\n\nimport classes from './TaskForm.module.css';\n\nconst TaskForm = (props) => {\n  const taskInputRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredValue = taskInputRef.current.value;\n\n    if (enteredValue.trim().length > 0) {\n      props.onEnterTask(enteredValue);\n    }\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <input type='text' ref={taskInputRef} />\n      <button>{props.loading ? 'Sending...' : 'Add Task'}</button>\n    </form>\n  );\n};\n\nexport default TaskForm;\n","import React, { useState, useCallback } from \"react\";\r\n\r\nfunction useHttp(applyData) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(async (requestConfig, applyData) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(requestConfig.url, {\r\n        method: requestConfig.method ? requestConfig.method : \"GET\",\r\n        headers: requestConfig.headers ? requestConfig.headers : {},\r\n        body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Request failed!\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      applyData(data);\r\n    } catch (err) {\r\n      setError(err.message || \"Something went wrong!\");\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n  return {\r\n    isLoading, //: isLoading,\r\n    error, //: error,\r\n    sendRequest, //: sendRequest,\r\n  };\r\n}\r\n\r\nexport default useHttp;\r\n","import Section from \"../UI/Section\";\nimport TaskForm from \"./TaskForm\";\nimport useHttp from \"../../hooks/use-http\";\n\nconst NewTask = (props) => {\n  const { isLoading, error, sendRequest: sendTaskRequest } = useHttp();\n\n  const createTask = (taskText, taskData) => {\n    const generatedId = taskData.name; // firebase-specific => \"name\" contains generated id\n    const createdTask = { id: generatedId, text: taskText };\n\n    props.onAddTask(createdTask);\n  };\n\n  const enterTaskHandler = async (taskText) => {\n    sendTaskRequest(\n      {\n        url: \"https://tasks-custom-react-hooks-default-rtdb.europe-west1.firebasedatabase.app/tasks.json\",\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: { text: taskText },\n      },\n      createTask.bind(null, taskText) // (null=this, f-st parm=taskText)\n    );\n  };\n\n  return (\n    <Section>\n      <TaskForm onEnterTask={enterTaskHandler} loading={isLoading} />\n      {error && <p>{error}</p>}\n    </Section>\n  );\n};\n\nexport default NewTask;\n","import React, { useEffect, useState } from \"react\";\n\nimport Tasks from \"./components/Tasks/Tasks\";\nimport NewTask from \"./components/NewTask/NewTask\";\nimport useHttp from \"./hooks/use-http\";\n\nfunction App() {\n  const [tasks, setTasks] = useState([]);\n\n  const { isLoading, error, sendRequest: fetchTasks } = useHttp();\n\n  useEffect(() => {\n    const transformTasks = (tasksObj) => {\n      const loadedTasks = [];\n\n      for (const taskKey in tasksObj) {\n        loadedTasks.push({ id: taskKey, text: tasksObj[taskKey].text });\n      }\n\n      setTasks(loadedTasks);\n    };\n\n    fetchTasks(\n      {\n        url: \"https://tasks-custom-react-hooks-default-rtdb.europe-west1.firebasedatabase.app/tasks.json\",\n      },\n      transformTasks\n    );\n  }, [fetchTasks]);\n\n  const taskAddHandler = (task) => {\n    setTasks((prevTasks) => prevTasks.concat(task));\n  };\n\n  return (\n    <React.Fragment>\n      <NewTask onAddTask={taskAddHandler} />\n      <Tasks\n        items={tasks}\n        loading={isLoading}\n        error={error}\n        onFetch={fetchTasks}\n      />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}